# Firebase App Hosting Configuration for POS System
# This configuration is for Firebase App Hosting which supports full Next.js features
# including server-side rendering, API routes, and dynamic functionality

runConfig:
  # CPU and memory allocation for the POS system
  cpu: 1
  memory: 512MB
  
  # Scaling configuration - adjust based on usage
  minInstances: 0  # Scale to 0 when not in use to save costs
  maxInstances: 5  # Max instances for POS system
  
  # Environment variables
  env:
    NODE_ENV: production
    # Add your Firebase config if needed
    NEXT_PUBLIC_FIREBASE_API_KEY: "${NEXT_PUBLIC_FIREBASE_API_KEY}"
    NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN: "${NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN}"
    NEXT_PUBLIC_FIREBASE_PROJECT_ID: "${NEXT_PUBLIC_FIREBASE_PROJECT_ID}"
    NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET: "${NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET}"
    NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID: "${NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID}"
    NEXT_PUBLIC_FIREBASE_APP_ID: "${NEXT_PUBLIC_FIREBASE_APP_ID}"

# Build configuration
buildConfig:
  runtime: nodejs20
  commands:
    - npm ci
    - npm run build